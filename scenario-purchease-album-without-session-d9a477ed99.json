{"id":"purchease-albums;purchease-album-without-session","name":"Purchease album without session","title":"Purchease album without session","manual":false,"testSteps":[{"number":1,"description":"Before","startTime":1636641368892,"children":[],"reportData":[],"screenshots":[],"duration":2,"result":"SUCCESS"},{"number":2,"description":"When Carlos buys some album without being logged","startTime":1636641368894,"children":[{"number":3,"description":"Carlos get list of albums without being logged","startTime":1636641368909,"children":[{"number":4,"description":"Carlos sends a GET request to '/users/999/albums'","startTime":1636641368921,"children":[],"reportData":[],"screenshots":[],"duration":1764,"result":"SUCCESS","restQuery":{"method":"GET","path":"https://nodejs-qa-training.herokuapp.com/users/999/albums","content":"","contentType":"","requestHeaders":"Accept: application/json,application/xml\nUser-Agent: axios/0.21.4","requestCookies":"","statusCode":401,"responseHeaders":"server: Cowboy\nconnection: close\nx-powered-by: Express\ncontent-type: application/json; charset=utf-8\ncontent-length: 109\netag: W/\"6d-sn7qbKWdrJdBL21bqm7F6eCULdQ\"\ndate: Thu, 11 Nov 2021 14:36:10 GMT\nvia: 1.1 vegur","responseCookies":"","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"authentication_error\",\n            \"message\": \"Invalid token\"\n        }\n    ],\n    \"timestamp\": \"2021-11-11T14:36:10.983Z\"\n}"}},{"number":5,"description":"Carlos ensures that the status of the last response does equal 401","startTime":1636641370700,"children":[],"reportData":[],"screenshots":[],"duration":1,"result":"SUCCESS"}],"reportData":[],"screenshots":[],"duration":1792,"result":"SUCCESS"},{"number":6,"description":"Carlos buys an album by id","startTime":1636641370713,"children":[{"number":7,"description":"Carlos sends a POST request to '/albums/100'","startTime":1636641370725,"children":[],"reportData":[],"screenshots":[],"duration":2010,"result":"COMPROMISED","exception":{"errorType":"TestCompromisedError","message":"The request has timed out","stackTrace":[{"declaringClass":"","methodName":"undefined()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/@serenity-js/rest/src/screenplay/abilities/CallAnApi.ts","lineNumber":198},{"declaringClass":"","methodName":"processTicksAndRejections()","fileName":"node:internal/process/task_queues","lineNumber":96},{"declaringClass":"","methodName":"createError()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/core/createError.js","lineNumber":16},{"declaringClass":"","methodName":"RedirectableRequest.handleRequestTimeout()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/adapters/http.js","lineNumber":303},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:events","lineNumber":390},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:domain","lineNumber":475},{"declaringClass":"","methodName":"Timeout.<anonymous>()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/follow-redirects/index.js","lineNumber":164},{"declaringClass":"","methodName":"listOnTimeout()","fileName":"node:internal/timers","lineNumber":557},{"declaringClass":"","methodName":"processTimers()","fileName":"node:internal/timers","lineNumber":500}],"rootCause":{"errorType":"Error","message":"timeout of 2000ms exceeded","stackTrace":[{"declaringClass":"","methodName":"createError()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/core/createError.js","lineNumber":16},{"declaringClass":"","methodName":"RedirectableRequest.handleRequestTimeout()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/adapters/http.js","lineNumber":303},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:events","lineNumber":390},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:domain","lineNumber":475},{"declaringClass":"","methodName":"Timeout.<anonymous>()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/follow-redirects/index.js","lineNumber":164},{"declaringClass":"","methodName":"listOnTimeout()","fileName":"node:internal/timers","lineNumber":557},{"declaringClass":"","methodName":"processTimers()","fileName":"node:internal/timers","lineNumber":500}]}}}],"reportData":[],"screenshots":[],"duration":2023,"result":"COMPROMISED"}],"reportData":[],"screenshots":[],"duration":3845,"result":"COMPROMISED"},{"number":8,"description":"Then he should get a wrong status code","startTime":1636641372739,"children":[],"reportData":[],"screenshots":[],"duration":1,"result":"SKIPPED"}],"userStory":{"id":"purchease-albums","storyName":"Purchease albums","path":"src/features/albums/albumPurchease.feature","type":"feature","narrative":"As a user of the application\nI want to purchease albums"},"startTime":1636641368888,"testSource":"Cucumber","tags":[{"name":"albums","type":"capability","displayName":"albums"},{"name":"albums/Purchease albums","type":"feature","displayName":"Purchease albums"}],"featureTag":{"name":"albums/Purchease albums","type":"feature","displayName":"Purchease albums"},"result":"COMPROMISED","testFailureCause":{"errorType":"TestCompromisedError","message":"The request has timed out","stackTrace":[{"declaringClass":"","methodName":"undefined()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/@serenity-js/rest/src/screenplay/abilities/CallAnApi.ts","lineNumber":198},{"declaringClass":"","methodName":"processTicksAndRejections()","fileName":"node:internal/process/task_queues","lineNumber":96},{"declaringClass":"","methodName":"createError()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/core/createError.js","lineNumber":16},{"declaringClass":"","methodName":"RedirectableRequest.handleRequestTimeout()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/axios/lib/adapters/http.js","lineNumber":303},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:events","lineNumber":390},{"declaringClass":"","methodName":"RedirectableRequest.emit()","fileName":"node:domain","lineNumber":475},{"declaringClass":"","methodName":"Timeout.<anonymous>()","fileName":"/Users/gabriel.bori/Documents/automation/apiAutomation/gb-se-ts/node_modules/follow-redirects/index.js","lineNumber":164},{"declaringClass":"","methodName":"listOnTimeout()","fileName":"node:internal/timers","lineNumber":557},{"declaringClass":"","methodName":"processTimers()","fileName":"node:internal/timers","lineNumber":500}]},"testFailureClassname":"TestCompromisedError","testFailureMessage":"The request has timed out","testFailureSummary":"COMPROMISED;TestCompromisedError;The request has timed out;node:internal/process/task_queues","duration":3865}